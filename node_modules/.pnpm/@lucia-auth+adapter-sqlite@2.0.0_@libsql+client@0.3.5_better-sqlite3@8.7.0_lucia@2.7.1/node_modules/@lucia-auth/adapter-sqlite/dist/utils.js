const createPreparedStatementHelper = (placeholder) => {
    const helper = (values) => {
        const keys = Object.keys(values);
        return [
            keys.map((k) => escapeName(k)),
            keys.map((_, i) => placeholder(i)),
            keys.map((k) => values[k])
        ];
    };
    return helper;
};
export const escapeName = (val) => {
    return `${ESCAPE_CHAR}${val}${ESCAPE_CHAR}`;
};
const ESCAPE_CHAR = "`";
export const helper = createPreparedStatementHelper(() => "?");
export const getSetArgs = (fields, placeholders) => {
    return fields
        .map((field, i) => [field, placeholders[i]].join(" = "))
        .join(",");
};
